<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>注册 - Shopee Clone</title>
<style>
  :root{
    --bg-1: #040612;
    --bg-2: #0b1230;
    --accent-a: #00d4ff;
    --accent-b: #b464ff;
    --card-bg: rgba(255,255,255,0.03);
    --muted: #98a3b8;
  }

  html,body{height:100%;}
  body { font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Arial; background: radial-gradient(circle at 10% 10%, #07102a, #040612 40%), linear-gradient(180deg,var(--bg-1),var(--bg-2)); display:flex; justify-content:center; align-items:center; padding:28px; color:#eaf6ff }

  form { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.22)); padding:30px; border-radius:14px; box-shadow: 0 18px 50px rgba(2,6,20,0.7); border:1px solid rgba(180,100,255,0.08); width:420px }

  h2{ color: var(--accent-a); margin:0 0 10px }

  input, select { display:block; width:100%; margin:10px 0; padding:12px; border-radius:10px; background: rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.06); color:#eaf6ff }

  button { background: linear-gradient(90deg,var(--accent-a),var(--accent-b)); color:#031026; border:none; padding:12px; width:100%; cursor:pointer; border-radius:10px; font-weight:600 }

  a { display:block; margin-top:10px; text-align:center; color:var(--muted); text-decoration:none }

  .accent-link{ color: var(--accent-b); font-weight:700; text-decoration:none }
</style>
</head>
<body>

<form id="registerForm">
  <h2 data-i18n="register.title">注册账号</h2>
  <input type="text" id="username" placeholder="用户名" data-i18n="register.username" data-i18n-attr="placeholder" required>
  <input type="email" id="email" placeholder="邮箱地址" data-i18n="register.email" data-i18n-attr="placeholder" required>
  <input type="password" id="password" placeholder="密码" data-i18n="register.password" data-i18n-attr="placeholder" required>
  <select id="role">
    <option value="buyer">买家</option>
    <option value="seller">卖家</option>
  </select>
  <button type="submit" data-i18n="register.submit">注册</button>
  <a href="login.html">已有账号？去登录</a>
</form>

<script>
document.getElementById("registerForm").onsubmit = async function(e){
  e.preventDefault();
  const data = {
    action: "register",
    username: username.value,
    email: email.value,
    password: password.value,
    role: role.value
  };
  try {
    const res = await fetch("auth.php", {
      method: "POST",
      headers:{'Content-Type':'application/json'},
      body: JSON.stringify(data)
    });
    const msg = await res.json();
    if(msg.status === "ok"){
      alert("注册成功，请登录！");
      window.location.href = "login.html";
    } else {
      alert("注册失败：" + msg.message);
    }
  } catch(err){
    alert("网络错误：" + err.message);
  }
};
</script>
<script src="i18n.js"></script>

</body>
</html>
